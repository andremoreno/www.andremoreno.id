<footer class="site-footer">
  <div class="container">
    <div class="row">
      <div class="col-lg-3 col-md-6">
        <div class="site-footer-widget">
          <div class="h1 text-white"><img src="{{ "/images/logo-am-footer.png" | absURL }}" width="150" height="50" alt="Andre Moreno Logo" class="img-fluid" loading="lazy"></div>
		  <p><a href="/why-crediting-is-important" class="small text-white">Â© Copyright {{ dateFormat "2006" now }}<br>All Rights Reserved</a></p>
         </div>
      </div>
      {{ with .Site.Params.footer.sitemap }}
      <div class="col-lg-2 col-md-6">
        <div class="site-footer-widget">
          <h5 class="site-footer-widget-title">{{ .title }}</h5>
          <ul class="site-footer-widget-links">
            {{ range .link }}
            <li><a class="link-light" href="{{ .url | absURL }}">{{ .name }}</a></li>
            {{ end }}
          </ul>
        </div>
      </div>
      {{ end }}
      {{ with .Site.Params.footer.social }}
      <div class="col-lg-2 col-md-6">
        <div class="site-footer-widget">
          <h5 class="site-footer-widget-title">{{ .title }}</h5>
          <ul class="site-footer-widget-links">
            {{ range .link }}
              <li><a rel="me" href="{{ .url }}" class="link-light" target="_blank" rel="nofollow noopener">{{ .name }}</a></li>
            {{ end }}
          </ul>
        </div>
      </div>
      {{ end }}
      {{ with .Site.Params.footer.service }}
      <div class="col-lg-3 col-md-6">
        <div class="site-footer-widget">
          <h5 class="site-footer-widget-title">{{ .title }}</h5>
           <ul class="site-footer-widget-links">
            {{ range .link }}
              <li><a rel="me" href="{{ .url }}" class="link-light" target="_blank" rel="nofollow noopener">{{ .name }}</a></li>
            {{ end }}
          </ul>
        </div>
      </div>
      {{ end }}
      <div id="topcontrol" class="col-lg-2 col-12">
        <a href="#top" class="site-footer-widget-top">
          <img src="{{ "images/to-top.svg" | absURL }}" height="33" width="26" loading="lazy" alt="back-to-top">
          <p>
            I want to 
            <br>
            visit again
          </p>
        </a>
      </div>
    </div>
  </div>
</footer>

   {{/* Load Bootstrap JS. */}}
   {{ $js := resources.Get "js/index.js" }}
   {{ $params := dict }}
   {{ $sourceMap := cond hugo.IsProduction "" "inline" }}
   {{ $opts := dict "sourceMap" $sourceMap "minify" hugo.IsProduction "target" "es2018" "params" $params }}
   {{ $js = $js | js.Build $opts }}
   {{ if hugo.IsProduction }}
   {{ $js = $js | fingerprint }}
   {{ end }}  
    <script src="{{ $js.RelPermalink }}" {{ if hugo.IsProduction }}integrity="{{ $js.Data.Integrity }}"{{ end }} defer></script>

{{ if isset .Params "form" }}
<script type="text/javascript">
var form = document.getElementById("contact-form");
form.addEventListener('submit', function(event) {

    if (!form.checkValidity()) {
        event.preventDefault()
        event.stopPropagation()
    }
    if (form.checkValidity()) {
        handleSubmit(event)
    }

    form.classList.add('was-validated')
}, false)

// Handling contact form through https://formspree.io/

async function handleSubmit(event) {
    event.preventDefault();
    var status = document.getElementById("contact-form-status");
    var data = new FormData(event.target);
    fetch(event.target.action, {
        method: form.method,
        body: data,
        headers: {
            'Accept': 'application/json'
        }
    }).then(response => {
        status.innerHTML = '<div class="alert alert-success" role="alert">Thank you for contacting me. I will reach out to you shortly!</div>';
        form.reset()
    }).catch(error => {
        status.innerHTML = '<div class="alert alert-danger" role="alert">Oops! There was a problem submitting your form!</div>'
    });
}
</script>
{{ end }}

{{ if .Params.lightbox }}
{{ $masonry := resources.Get "js/masonry.pkgd.min.js" }}
{{ $fancybox := resources.Get "js/fancybox.umd.min.js" }}
<script src="{{ $masonry.Permalink }}"></script>
<script src="{{ $fancybox.Permalink }}"></script>
{{ $imagesloaded := resources.Get "js/imagesloaded.pkgd.js" | minify }}
<script src="{{ $imagesloaded.Permalink }}"></script>

<script>
var grid = document.querySelector('.row .justify-content-center');
var msnry = new Masonry( grid, {
  itemSelector: '.col-sm-6',
  percentPosition: true,
  horizontalOrder: true
});
imagesLoaded( grid ).on( 'progress', function() {
  // layout Masonry after each image loads
  msnry.layout();
});
window.addEventListener("orientationchange", function(event) {
	msnry.layout();
});
</script>
{{ end }}
